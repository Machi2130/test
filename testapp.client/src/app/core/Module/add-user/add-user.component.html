<h4 style="text-align: center; margin-bottom: 0px">Add New User   <button class="close-button" type="button" (click)="onCancel()">âŒ</button></h4>

<div *ngIf="!isAuthorized" class="unauthorized-message">
  ğŸš« You do not have permission to add users.
  <div class="button-group">
    <button type="button" (click)="onCancel()">Close</button>
  </div>
</div>

<form *ngIf="isAuthorized" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
  <div>
    <label>Username:</label>
    <input formControlName="username" />
    <div *ngIf="submitted && f['username'].errors" class="error-message">
      Username is required
    </div>
  </div>

  <div>
    <label>Password:</label>
    <input type="password" formControlName="password" />
    <div *ngIf="submitted && f['password'].errors" class="error-message">
      Password is required (min 6 characters)
    </div>
  </div>

  <div>
    <label>Email:</label>
    <input formControlName="email" />
    <div *ngIf="submitted && f['email'].errors" class="error-message">
      Enter a valid email
    </div>
  </div>

  <div>
    <label for="roleId">Select Role</label>
    <select formControlName="roleId" id="roleId" class="form-control">
      <option *ngFor="let role of roles" [value]="role.id">
        {{ role.name }}
      </option>
    </select>
  </div>

  <div *ngIf="successMessage" class="success-message">{{ successMessage }}</div>
  <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>

  <div class="button-group">
    <button type="submit" [disabled]="submitted">Register</button>
  </div>
</form>

